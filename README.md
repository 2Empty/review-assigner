# Сервис назначения ревьюеров для Pull Request'ов

Микросервис для автоматического назначения ревьюеров на Pull Request'ы внутри команд.

## Содержание
- Выполнено основное задание
- Выполненные дополнительные задания:
  - Добавить простой эндпоинт статистики (GET /stats)
  - Провести нагрузочное тестирование полученного решения и приложить краткие результаты тестирования к решению. (make loadtest)
  - Описать конфигурацию линтера (make lint).
  - Добавить метод массовой деактивации пользователей команды и безопасную переназначаемость открытых PR (POST /users/deactivateTeamUsers). При деактивации пользователей происходит автоматическое переназначение, если есть кандидаты и статус pr OPEN

## Быстрый старт

```bash
# Запуск сервиса
make run

# Остановка
make stop
```

Сервис будет доступен на http://localhost:8080

## Команды Makefile

```bash
make run        # Запуск через Docker (docker-compose up --build -d)
make stop       # Остановка контейнеров (docker-compose down)
make logs       # Просмотр логов приложения (docker-compose logs -f app)
make lint       # Проверка кода линтером (golangci-lint run ./...)
make loadtest   # Нагрузочное тестирование (k6 run loadtest/k6-script.js)
make health     # Проверка здоровья сервиса (curl http://localhost:8080/health)
make stats      # Получение статистики сервиса (curl http://localhost:8080/stats)
```

## Результаты нагрузочного тестирования

Тестирование проводилось с постепенным увеличением нагрузки до 10 виртуальных пользователей в течение 15 секунд.

- **Общее количество проверок**: 1795 (100% успешных)
- **Среднее время ответа**: 1.97 мс
- **95-й процентиль времени ответа**: 3.24 мс (значительно ниже порога 300 мс)
- **Процент ошибок**: 0.00% (0 ошибок из 1795 запросов)
- **Запросов в секунду**: ~120 запросов/сек

Система показала стабильную работу под нагрузкой.

[Подробный результат теста](./loadtest/README.md)

## API Documentation

[OpenAPI Specification](./openapi.yml)
